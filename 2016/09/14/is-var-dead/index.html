<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Nolan Zi"><title>var的声明方式已经推出历史舞台了吗？ · 韧青子的博客</title><meta name="description" content="原文链接：Is-Var-Dead?

新的标准es6出来以后，我们了解了两种新的声明方式，let 和 const - 它们俩都是干嘛的，作用域是什么样的？当然，通过大家对es6标准的了解，相信大家都知道了，但是又一个问题：到底在什么合适的时候用到它们？  
这个问题是一个相当热门的话题，因为有些人仍"><meta name="keywords" content="javascript"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/ds-embed.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">韧青子的博客</a></h3><div class="description"><p>Nothing lasts forever.</p></div></div></div><ul class="social-links"><li><a href="/atom.xml"><i class="fa fa-rss"></i></a></li><li><a href="http://weibo.com/27028931"><i class="fa fa-weibo"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai</a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="https://avatars1.githubusercontent.com/u/8044905?v=3&amp;s=460"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>var的声明方式已经推出历史舞台了吗？</a></h3></div><div class="post-content"><blockquote>
<p>原文链接：<a href="http://wesbos.com/is-var-dead/" target="_blank" rel="external">Is-Var-Dead?</a></p>
</blockquote>
<p>新的标准es6出来以后，我们了解了两种新的声明方式，<code>let</code> 和 <code>const</code> - 它们俩都是干嘛的，作用域是什么样的？当然，通过大家对es6标准的了解，相信大家都知道了，但是又一个问题：<strong>到底在什么合适的时候用到它们？</strong>  </p>
<p>这个问题是一个相当热门的话题，因为有些人仍然使用<code>var</code>的声明方式，我们在看文章的时候可能会看到有人会说：<code>var</code>的声明方式已经完蛋了，以后都替换成<code>let</code>和<code>const</code>的声明方式吧！  </p>
<p>有一种观点是：“<code>var</code> 没有结束 - 因为有些地方还是需要用到它的 - 它是和<code>let</code>和<code>const</code>不同的是它是函数作用域(function scoped)而<code>let</code>和<code>const</code>是块级作用域，而且，<code>var</code>可以多次重新用<code>var</code>声明，已完全可以继续使用它。”因为没有什么严格的规定，所以没有什么正确的答案，仅仅只是一种观点，你可以自己决定是否使用<code>var</code>。</p>
<p>在本文里呢，我只想列出多个关于<code>var</code>是否已经放弃的话题，至于怎么选择，聪明的你需要自己去权衡了。</p>
<p>来看看这个观点－ <a href="https://mathiasbynens.be/notes/es6-const" target="_blank" rel="external">Mathias Bynens</a>说：只要不是声明变量后要立马去改变它的属性的，你就可以不用考虑直接用<code>const</code>吧！</p>
<p>Later在他的文章里说到<code>let</code>和<code>const</code>的区别</p>
<ul>
<li>默认的话就用<code>const</code></li>
<li>如果你声明的值需要立马去改变它的话就用<code>let</code></li>
<li>在es6里永远不要用<code>var</code></li>
</ul>
<p>无论什么时候如果你要声明一个变量，假定它就是<code>const</code>。当你写代码的时候要去改变你声明的变量的时候再把<code>const</code>更改为<code>let</code>。这样的话你就用<code>const</code>可以保持你声明的变量不可变，这样有利于减少程序的不可预见性。</p>
<p>另一种比较流行的观点是<a href="http://blog.getify.com/constantly-confusing-const/" target="_blank" rel="external">Kyle Simpson</a>提出的(这个👨男人写过很多牛逼的javascript书哦)：</p>
<ul>
<li>把<code>var</code>用到顶级的作用域可以让它声明的变量作用到各个作用域中</li>
<li>把<code>let</code>用的确定的小的作用域里面</li>
<li>把<code>let</code>替换成<code>const</code>，当你下面的值需要去改变的时候再改回来，当然你如果声明这个变量的时候确定要改变它的话那就直接食用<code>let</code>就好了</li>
</ul>
<p>他说，从根本上说，当你在比较大的作用域下是可以使用<code>var</code>把它声明的变量用到其它需要的函数里面去，当你用小型的作用域的时候就使用<code>let</code>，如果你敲代码的时候突然发现你需要去改变它，那你就回去把<code>const</code>替换成<code>let</code>。如果你使用的<code>let</code>，把它重构为<code>const</code>也是比较容易的。</p>
<p>综合这些观点，你可以自己做出选择了，而我自己会默认用<code>const</code>，当需要去改变这个值当时候就用<code>let</code>替换掉它，而且还是完全的摆脱<code>var</code>吧。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2016-09-14</span><i class="fa fa-comment-o"></i><a href="/2016/09/14/is-var-dead/#comments">评论</a><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"> <a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"> <a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"> <a href="http://twitter.com/home?status=,http://www.8abd.com/2016/09/14/is-var-dead/,韧青子的博客,var的声明方式已经推出历史舞台了吗？,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a role="navigation" href="/2017/01/16/raspberry-pi-40pin/" title="树莓派3B的GPIO引脚的逻辑值" class="btn">上一篇</a></li></ul></div><a id="comments"></a><div data-thread-key="2016/09/14/is-var-dead/" data-title="var的声明方式已经推出历史舞台了吗？" data-url="http://www.8abd.com/2016/09/14/is-var-dead/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"zqingr"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>