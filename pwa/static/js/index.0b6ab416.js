webpackJsonp([1],{0:function(t,e,n){t.exports=n("msSN")},"5e9e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"state",function(){return r}),n.d(e,"mutations",function(){return a});var r=function(){return{enable:!0,type:"none",effect:"none"}},a={setType:function(t,e){t.type=e},setEffect:function(t,e){t.effect=e}}},CJsk:function(t,e){},Uz7q:function(t,e){t.exports={buildVersion:1521778586954,build:{ssr:!1,publicPath:"./",compress:!0},middleware:{all:[],server:[],client:[]},router:{mode:"history",base:"/",pageTransition:{type:"fade",transitionClass:"fade"}},errorHandler:{defaultErrorMessage:"Internal Server Error",showRealErrorMessage:!1,errorPath:"/error"},serviceWorker:{swDest:"D:\\test\\pwa-project\\dist\\service-worker.js"},skeleton:{enable:!0,asyncCSS:!0}}},VfP6:function(t,e,n){var r={"./pageTransition.js":"5e9e"};function a(t){return n(s(t))}function s(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(r)},a.resolve=s,t.exports=a,a.id="VfP6"},Yx7p:function(t,e){},actd:function(t,e){},hThv:function(t,e){},msSN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,a=n("rVsN"),s=n.n(a),i=n("IHPB"),o=n.n(i),c=n("lC5x"),u=n.n(c),f=n("J0Oq"),l=n.n(f),p=n("i8gr"),h=n("iDdd"),d=n.n(h),v=n("Umb+"),m=(r=l()(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)});function w(t,e){var n={isClient:!0,app:e,store:t.store,route:t.to,from:t.from},r=t.next;return n.params=n.route.params||{},n.query=n.route.query||{},n.redirect=function(t){var e=t.status,a=void 0===e?302:e,s=t.path,i=void 0===s?"":s,o=t.query,c=void 0===o?{}:o,u=t.external,f=void 0!==u&&u;n._redirected=!0,r({path:i,query:c,status:a,external:f})},n}var y,_=(y=l()(u.a.mark(function t(e,n){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.length)){t.next=9;break}if(!n._redirected){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,x(e[r],n);case 6:r++,t.next=1;break;case 9:case"end":return t.stop()}},t,this)})),function(t,e){return y.apply(this,arguments)});function x(t,e){var n=void 0;return 2===t.length?n=new s.a(function(n,r){t(e,function(t,a){t?(e.error(t),r(t)):n(a)})}):(n=t(e))&&(n instanceof s.a||"function"==typeof n.then)||(n=s.a.resolve(n)),n}var b=n("Uz7q"),g=n.n(b),T=n("4YfN"),k=n.n(T),A=n("CjrA"),E=n.n(A),$=n("cigS"),C={name:"appshell",metaInfo:{title:"Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}],bodyAttrs:{"empty-appshell":void 0}}},S={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},P=n("rX0A")(C,S,null,null,null).exports,I=n("ZLEe"),q=n.n(I),M={name:"error",computed:{message:function(){return this.$route.params.error||"Oops! Something is not quite right o(╥﹏╥)o"}},created:function(){var t=this.$route.query;0!==q()(t).length&&this.$router.replace({name:"error",params:t})}},R={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v(this._s(this.message))])])},staticRenderFns:[]},j=n("rX0A")(M,R,null,null,null).exports;var D={name:"index",metaInfo:{title:"Home",titleTemplate:"%s - Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}]},asyncData:function(){var t=l()(u.a.mark(function t(e){e.store,e.route;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},F={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"page-index"},[e("h2",[this._v("LAVAS")]),this._v(" "),e("h4",[this._v("[ˈlɑ:vəz]")])])}]};var L=[{path:"/appshell",component:P,meta:{},name:"appshell"},{path:"/",component:n("rX0A")(D,F,function(t){n("Yx7p")},"data-v-2acdb380",null).exports,meta:{},name:"index"},{path:"/error",component:j,meta:{},name:"error",alias:"*"}];p.a.use($.a);var V=function(t,e,n){if(n)return n;var r={};return t.hash&&(r.selector=t.hash),t.matched.some(function(t){return t.meta.scrollToTop})&&(r.x=0,r.y=0),r};var U=n("aA9S"),W=n.n(U),O=n("HzJ8"),N=n.n(O),X=n("HVJf");p.a.use(X.a);var J=n("VfP6"),B=J.keys(),H={},Y=!0,z=!1,Z=void 0;try{for(var G,K=N()(B);!(Y=(G=K.next()).done);Y=!0){var Q=G.value;if("./index.js"===Q){H=ft(Q);break}}}catch(t){z=!0,Z=t}finally{try{!Y&&K.return&&K.return()}finally{if(z)throw Z}}if("function"!=typeof H){H.modules=H.modules||{};var tt=!0,et=!1,nt=void 0;try{for(var rt,at=N()(B);!(tt=(rt=at.next()).done);tt=!0){var st=rt.value;if("./index.js"!==st){var it=st.replace(/^\.\//,"").replace(/\.js$/,""),ot=it.split("/"),ct=lt(H,ot);ct[it=ot.pop()]=ft(st),ct[it].namespaced=!0}}}catch(t){et=!0,nt=t}finally{try{!tt&&at.return&&at.return()}finally{if(et)throw nt}}}var ut=H instanceof Function?H:function(){return new X.a.Store(W()({},H,{state:H.state instanceof Function?H.state():{}}))};function ft(t){var e=J(t),n=e.default||e;if(n.commit)throw new Error("[lavas] store/"+t.replace("./","")+" should export a method which returns a Vuex instance.");if(n.state&&"function"!=typeof n.state)throw new Error("[lavas] state should be a function in store/"+t.replace("./",""));return n}function lt(t,e){if(1===e.length)return t.modules;var n=e.shift(),r=t.modules[n]=t.modules[n]||{};return r.namespaced=!0,r.modules=r.modules||{},lt(r,e)}var pt={name:"updateToast",props:{text:{type:String,default:"站点发生更新，请手动刷新"}},data:function(){return{show:!1}},mounted:function(){window.addEventListener("sw.update",this.handleUpdate)},beforeDestroy:function(){window.removeEventListener("sw.update",this.handleUpdate)},methods:{handleUpdate:function(t){this.show=!0},handleRefresh:function(){window.location.reload()}}},ht={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"popup"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"update-toast"},[e("span",[this._v(this._s(this.text))]),this._v(" "),e("span",{staticClass:"update-toast-close-btn",on:{click:this.handleRefresh}},[e("i",{staticClass:"iconfont icon-refresh"})])])])},staticRenderFns:[]};var dt={name:"app",components:{UpdateToast:n("rX0A")(pt,ht,function(t){n("yB12")},"data-v-5c79e608",null).exports},computed:k()({},Object(X.b)("pageTransition",{pageTransitionType:function(t){return t.type},pageTransitionEffect:function(t){return t.effect}}),{pageTransitionClass:function(){return"transition-"+this.pageTransitionType}})},vt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:t.pageTransitionEffect}},[t.$route.meta.keepAlive?n("keep-alive",[n("router-view",{key:t.$route.fullPath,staticClass:"app-view",class:[t.pageTransitionClass]})],1):t._e(),t._v(" "),t.$route.meta.keepAlive?t._e():n("router-view",{key:t.$route.fullPath,staticClass:"app-view",class:[t.pageTransitionClass]})],1),t._v(" "),n("update-toast")],1)},staticRenderFns:[]};var mt=n("rX0A")(dt,vt,function(t){n("hThv")},null,null).exports;p.a.use(E.a),p.a.config.productionTip=!1;var wt={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#ffca2b",failedColor:"#ff0000"}},methods:{start:function(){var t=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){t.increase(t._cut*Math.random()),t.percent>95&&t.finish()},100),this},set:function(t){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(t),this},get:function(){return Math.floor(this.percent)},increase:function(t){return this.percent=this.percent+Math.floor(t),this},decrease:function(t){return this.percent=this.percent-Math.floor(t),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var t=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){t.show=!1,t.$nextTick(function(){setTimeout(function(){t.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}},yt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"progress",style:{width:this.percent+"%",height:this.height,"background-color":this.canSuccess?this.color:this.failedColor,opacity:this.show?1:0}})},staticRenderFns:[]};var _t=n("rX0A")(wt,yt,function(t){n("actd")},"data-v-2550dcc4",null).exports,xt=n("ZGS7"),bt=n.n(xt),gt=n("eFXI"),Tt=n.n(gt);n("ABOc"),n("CJsk");bt.a.shim(),Tt.a.shim();var kt,At,Et=p.a.prototype.$loading=new p.a(_t).$mount(),$t=(kt=function(){var t=new $.a({mode:"history",base:"/",scrollBehavior:V,routes:L});return t.beforeEach(function(e,n,r){t.app.$store&&t.app.$store.state.pageTransition.enable&&(t.app.$store.commit("pageTransition/setType","fade"),t.app.$store.commit("pageTransition/setEffect","fade")),r()}),t}(),At=ut(),{App:p.a.extend(k()({router:kt,store:At},mt)),router:kt,store:At}),Ct=$t.App,St=$t.router,Pt=$t.store,It=g.a.build,qt=It.ssr,Mt=It.cssExtract,Rt=g.a.middleware,jt=void 0===Rt?{}:Rt,Dt=g.a.skeleton,Ft=Dt.enable,Lt=Dt.asyncCSS,Vt=void 0;if(window.__INITIAL_STATE__&&Pt.replaceState(window.__INITIAL_STATE__),document.body.appendChild(Et.$el),d.a.attach(document.body),p.a.mixin({beforeRouteUpdate:function(){var t=l()(u.a.mark(function t(e,n,r){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(a=this.$options.asyncData)?(Et.start(),a.call(this,{store:this.$store,route:e}).then(function(){Et.finish(),r()}).catch(r)):r();case 2:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()}),function(){var t=this;St.beforeEach((e=l()(u.a.mark(function e(n,r,a){var s,i,c,f,l,p,h,d,y;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.fullPath.split("#")[0],i=n.fullPath.split("#")[0],s!==i){t.next=4;break}return t.abrupt("return",a());case 4:return c=St.getMatchedComponents(n),f=[].concat(o()(jt.all||[]),o()(jt.client||[]),o()(c.filter(function(t){var e=t.middleware;return!!e}).reduce(function(t,e){var n=e.middleware;return t.concat(n)},[]))),t.next=8,m(f);case 8:if(l=t.sent,!(p=f.find(function(t){return"function"!=typeof l[t]}))){t.next=12;break}throw new Error("Unknown middleware "+p);case 12:return h=!1,d=w({to:n,from:r,store:Pt,next:function(t){if(Et.finish&&Et.finish(),!h){if(h=!0,t.external)return t.query=Object(v.stringify)(t.query),t.path=t.path+(t.query?"?"+t.query:""),window.location.replace(t.path),a();a(t)}}},Vt),y=f.map(function(t){return l[t]}),t.next=18,_(y,d);case 18:h||a();case 19:case"end":return t.stop()}},e,t)})),function(t,n,r){return e.apply(this,arguments)}));var e}(),!document.body.hasAttribute("empty-appshell")&&qt)Vt=new Ct,St.onReady(function(){Wt(),Vt.$mount("#app")});else{var Ut=Ft&&Lt&&Mt;window.mountLavas=function(){setTimeout(function(){return Vt.$mount("#app")},0)},Wt(),Vt=new Ct,(!Ut||Ut&&window.STYLE_READY)&&window.mountLavas()}function Wt(){var t=this;St.beforeResolve(function(e,n,r){var a,i=St.getMatchedComponents(e),o=St.getMatchedComponents(n),c=!1,f=i.filter(function(t,e){return c||(c=o[e]!==t)});if(!f.length)return r();Et.start(),s.a.all(f.filter(function(t){return t.asyncData&&(!t.asyncDataFetched||!e.meta.keepAlive)}).map((a=l()(u.a.mark(function n(r){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.asyncData({store:Pt,route:e});case 2:r.asyncDataFetched=!0;case 3:case"end":return t.stop()}},n,t)})),function(t){return a.apply(this,arguments)}))).then(function(){Et.finish(),r()}).catch(r)})}},yB12:function(t,e){}},[0]);
//# sourceMappingURL=index.0b6ab416.js.map